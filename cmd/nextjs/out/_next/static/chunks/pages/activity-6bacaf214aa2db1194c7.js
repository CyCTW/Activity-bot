(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[839],{6316:function(n,e,t){"use strict";t.r(e);var r=t(266),i=t(809),c=t.n(i),o=t(8790),s=t(1163),a=t(7294),u=t(6936),l=t(5893);e.default=function(n){var e=n.liff,t=(n.liffError,(0,s.useRouter)());console.log(t.asPath);var i=(0,a.useState)({}),f=i[0],d=i[1],v=(0,a.useState)(),h=v[0],p=v[1],x=(0,a.useState)(),_=x[0],m=x[1];return(0,a.useEffect)((function(){var n=t.asPath,e=n.search("id="),i=n.slice(e+3);console.log(i),function(){var n=(0,r.Z)(c().mark((function n(){var e,t,r;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,u.K)(i);case 2:e=n.sent,t=e.data.users,r=e.data.activity,p(t),m(r),console.log(t),console.log(r);case 9:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()()}),[]),(0,a.useEffect)((function(){var n=function(){var n=(0,r.Z)(c().mark((function n(){var t;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.getProfile();case 3:t=n.sent,d(t),console.log("Profile"),console.log(t),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.log(n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(){return n.apply(this,arguments)}}();null!==e&&n()}),[e]),(0,l.jsx)("div",{children:(0,l.jsxs)(o.gC,{children:[(0,l.jsx)("h1",{className:"home__title",children:"\u6d3b\u52d5\u8cc7\u8a0a"}),(0,l.jsxs)("p",{children:["\u6d3b\u52d5\u540d\u7a31: ",null===_||void 0===_?void 0:_.Name]}),(0,l.jsxs)("p",{children:["\u6d3b\u52d5\u65e5\u671f: ",null===_||void 0===_?void 0:_.Date]}),(0,l.jsxs)("p",{children:["\u6d3b\u52d5\u5730\u9ede: ",null===_||void 0===_?void 0:_.Place]}),(0,l.jsx)("h3",{className:"home__title",children:"\u53c3\u52a0\u8005\u540d\u55ae:"}),h&&h.map((function(n,e){return(0,l.jsx)("div",{children:null===n||void 0===n?void 0:n.Name},e)})),h&&h.some((function(n){return n.LineUserID==(null===f||void 0===f?void 0:f.userId)}))?(0,l.jsx)(o.xu,{children:"\u60a8\u5df2\u7d93\u53c3\u52a0\u6b64\u6d3b\u52d5!"}):(0,l.jsx)(l.Fragment,{})]})})}},6936:function(n,e,t){"use strict";t.d(e,{y:function(){return c},K:function(){return o}});var r=t(9669),i=t.n(r)().create({baseURL:"",withCredentials:!0}),c=function(n){var e=n.name,t=n.dateString,r=n.place,c=n.idToken;return i.post("/activity",{name:e,date:t,place:r,idToken:c})},o=function(n){return i.get("/activity/".concat(n))}},1032:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/activity",function(){return t(6316)}])},1163:function(n,e,t){n.exports=t(4651)}},function(n){n.O(0,[690,669,774,888,179],(function(){return e=1032,n(n.s=e);var e}));var e=n.O();_N_E=e}]);